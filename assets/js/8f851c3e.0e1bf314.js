"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[680],{3905:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>g});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var d=a.createContext({}),u=function(t){var e=a.useContext(d),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},p=function(t){var e=u(t.components);return a.createElement(d.Provider,{value:e},t.children)},s="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,d=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),s=u(n),c=r,g=s["".concat(d,".").concat(c)]||s[c]||m[c]||i;return n?a.createElement(g,l(l({ref:e},p),{},{components:n})):a.createElement(g,l({ref:e},p))}));function g(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,l=new Array(i);l[0]=c;var o={};for(var d in e)hasOwnProperty.call(e,d)&&(o[d]=e[d]);o.originalType=t,o[s]="string"==typeof t?t:r,l[1]=o;for(var u=2;u<i;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},3146:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>l,default:()=>s,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const i={title:"Rules",sidebar_position:2},l=void 0,o={unversionedId:"Guide/rules",id:"Guide/rules",title:"Rules",description:"In formconductor library, validation rules can be applied using kotlin @Annotations. Rules can only be applied to specified type of properties and can be stacked to apply multiple rules.",source:"@site/docs/Guide/rules.md",sourceDirName:"Guide",slug:"/Guide/rules",permalink:"/docs/Guide/rules",draft:!1,editUrl:"https://github.com/naingaungluu/form-conductor/tree/documentation/docs/docs/Guide/rules.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Rules",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Validation",permalink:"/docs/Guide/validation"},next:{title:"Custom Validations",permalink:"/docs/Guide/customValidation"}},d={},u=[{value:"Supported Rule Annotations",id:"supported-rule-annotations",level:2},{value:"Custom Annotations",id:"custom-annotations",level:2},{value:"Manual Validation using built-in rules",id:"manual-validation-using-built-in-rules",level:3}],p={toc:u};function s(t){let{components:e,...n}=t;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"In formconductor library, validation rules can be applied using kotlin ",(0,r.kt)("inlineCode",{parentName:"p"},"@Annotations"),". Rules can only be applied to specified type of properties and can be stacked to apply multiple rules."),(0,r.kt)("h2",{id:"supported-rule-annotations"},"Supported Rule Annotations"),(0,r.kt)("p",null,"Fields can be annotated with built-in validators to apply a validation rule to it."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Every field without a specific ",(0,r.kt)("inlineCode",{parentName:"p"},"@Optional")," annotation is marked as ",(0,r.kt)("inlineCode",{parentName:"p"},"Required/Mandatory")," by default.")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Rule"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"@EmailAddress"),(0,r.kt)("td",{parentName:"tr",align:"center"},"EmailAddressRule"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:"right"},"Validates email address using the built-in regex pattern")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"@MinLength(value)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"MinLengthRule"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:"right"},"Minimum Length of the string")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"@MaxLength(value)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"MaxLengthRule"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:"right"},"Maximum Length of the string")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"@WebUrl(httpRequired)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"WebUrlRule"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:"right"},"Validates a Web Url")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"@IntegerRange(min,max)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"IntegerRangeRule"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Integer")),(0,r.kt)("td",{parentName:"tr",align:"right"},"Validates an ",(0,r.kt)("inlineCode",{parentName:"td"},"Integer")," to be within range")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"@FloatRange(min,max)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"FloatRangeRule"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Float")),(0,r.kt)("td",{parentName:"tr",align:"right"},"Validates a ",(0,r.kt)("inlineCode",{parentName:"td"},"Float")," to be within range")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"@IsChecked"),(0,r.kt)("td",{parentName:"tr",align:"center"},"IsCheckedRule"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:"right"},"Validates a ",(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")," to be true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"@Optional"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Any")),(0,r.kt)("td",{parentName:"tr",align:"right"},"Marks the field as an optional field")))),(0,r.kt)("h2",{id:"custom-annotations"},"Custom Annotations"),(0,r.kt)("p",null,"If you ever feel the need to create your own validation rules, the library allows you to do just that using the following annotations."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Annotation"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"@FieldValidation(type,rule)")),(0,r.kt)("td",{parentName:"tr",align:"right"},"You can use this annotation to create your own Validation annotations")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"@DynamicOptional(evaluator)")),(0,r.kt)("td",{parentName:"tr",align:"right"},"You can use this annotation to evaluate the optional flag dynamically")))),(0,r.kt)("p",null,"Please check out the full guide on custom validations ",(0,r.kt)("a",{parentName:"p",href:"./customValidation"},"here")),(0,r.kt)("h3",{id:"manual-validation-using-built-in-rules"},"Manual Validation using built-in rules"),(0,r.kt)("p",null,"Sometimes, you just need to validate a field value manuall and don't want to build an entire form for that. Or maybe, you want to reuse the validation rules from the library or the ones you've created. In such cases, you can take advantage of the ",(0,r.kt)("inlineCode",{parentName:"p"},"ValidationRule")," instances of the library."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="Using built-in rules"',title:'"Using',"built-in":!0,'rules"':!0},"etProfilePage.doAfterTextChanged { input ->\n    val result = WebUrlRule.validate(input, WebUrl(httpRequired = false))\n    if (result is FieldResult.Success) {\n        ...\n        }\n    else {\n        ...\n    }\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="Using custom rules"',title:'"Using',custom:!0,'rules"':!0},'object FutureDateRule: StatelessValidationRule<LocalDate, FutureDate> {\n    override fun validiate(input: LocalDate, options: FutureDate): FieldResult {\n        if (input.isBefore(LocalDate.now())) {\n            return FieldResult.Success\n        } else {\n            return FieldResult.Error("Date must be a future date", this)\n        }\n    }\n}\n\n// Call site\nval date = calendarDialog.requestDate()\nval result = FutureDateRule.validate(date, FutureDate())\n')))}s.isMDXComponent=!0}}]);